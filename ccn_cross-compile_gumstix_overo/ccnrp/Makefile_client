CC=g++
FLAGS=-g

DEPS=%.h
VPATH=~/wjz/ccnrp_lib
vpath %.o obj

ODIR=obj
_OBJ=main.o CCNRegMsg.o CCNRegEntry.o ccn_global.o\
	RPClient.o CCNPeerMap.o
OBJ= $(patsubst %, $(ODIR)/%, $(_OBJ))

ccnrp_client: $(OBJ)
	$(CC) $(FLAGS) -o $@ $^

$(ODIR)/main.o: ccnrp_client.cpp RPClient.o CCNRegMsg.o
	$(CC) $(FLAGS) -c $< -o $@

$(ODIR)/CCNRegMsg.o: CCNRegMsg.cpp CCNRegMsg.h CCNRegEntry.o ccn_global.o CCNPeerMap.o
	$(CC) $(FLAGS) -c $< -o $@

$(ODIR)/CCNRegEntry.o: CCNRegEntry.cpp CCNRegEntry.h ccn_global.o
	$(CC) $(FLAGS) -c $< -o $@

$(ODIR)/ccn_global.o: ccn_global.cpp ccn_global.h
	$(CC) $(FLAGS) -c $< -o $@

$(ODIR)/RPClient.o: RPClient.cpp RPClient.h
	$(CC) $(FLAGS) -c $< -o $@

$(ODIR)/CCNPeerMap.o: CCNPeerMap.cpp CCNPeerMap.h
	$(CC) $(FLAGS) -c $< -o $@
	

clean:
	rm $(ODIR)/*.o

